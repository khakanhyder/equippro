2025-Dec-09 21:21:36.921493
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "APIFY_API_TOKEN") (line 3)
2025-Dec-09 21:21:36.921493
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "WASABI_SECRET_ACCESS_KEY") (line 13)
2025-Dec-09 21:21:36.921493
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "APIFY_API_TOKEN") (line 37)
2025-Dec-09 21:21:36.921493
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "OPENAI_API_KEY") (line 40)
2025-Dec-09 21:21:36.921493
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "OPENAI_API_KEY") (line 6)
2025-Dec-09 21:21:36.921493
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "SESSION_SECRET") (line 8)
2025-Dec-09 21:21:36.921493
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "WASABI_ACCESS_KEY_ID") (line 9)
2025-Dec-09 21:21:36.925996
Dockerfile:33
2025-Dec-09 21:21:36.925996
--------------------
2025-Dec-09 21:21:36.925996
31 |
2025-Dec-09 21:21:36.925996
32 |     # Build the application using npx to ensure binaries are found
2025-Dec-09 21:21:36.925996
33 | >>> RUN npx vite build && npx esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist
2025-Dec-09 21:21:36.925996
34 |
2025-Dec-09 21:21:36.925996
35 |     # Production stage
2025-Dec-09 21:21:36.925996
--------------------
2025-Dec-09 21:21:36.925996
ERROR: failed to build: failed to solve: process "/bin/sh -c npx vite build && npx esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist" did not complete successfully: exit code: 1
2025-Dec-09 21:21:36.931646
exit status 1
2025-Dec-09 21:21:37.003649
Oops something is not okay, are you okay? ðŸ˜¢
2025-Dec-09 21:21:37.014296
#0 building with "default" instance using docker driver
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#1 [internal] load build definition from Dockerfile
2025-Dec-09 21:21:37.014296
#1 transferring dockerfile: 3.22kB done
2025-Dec-09 21:21:37.014296
#1 DONE 0.0s
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#2 [internal] load metadata for docker.io/library/node:20-alpine
2025-Dec-09 21:21:37.014296
#2 DONE 0.2s
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#3 [internal] load .dockerignore
2025-Dec-09 21:21:37.014296
#3 transferring context: 219B done
2025-Dec-09 21:21:37.014296
#3 DONE 0.0s
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#4 [builder 1/6] FROM docker.io/library/node:20-alpine@sha256:643e7036aa985317ebfee460005e322aa550c6b6883000d01daefb58689a58e2
2025-Dec-09 21:21:37.014296
#4 DONE 0.0s
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#5 [builder 2/6] WORKDIR /app
2025-Dec-09 21:21:37.014296
#5 CACHED
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#6 [internal] load build context
2025-Dec-09 21:21:37.014296
#6 transferring context: 1.05MB 0.0s done
2025-Dec-09 21:21:37.014296
#6 DONE 0.0s
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#7 [builder 3/6] COPY package*.json ./
2025-Dec-09 21:21:37.014296
#7 DONE 0.1s
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#8 [production 4/7] RUN npm ci --only=production
2025-Dec-09 21:21:37.014296
#8 0.265 npm warn config only Use `--omit=dev` to omit dev dependencies from the install.
2025-Dec-09 21:21:37.014296
#8 ...
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#9 [builder 4/6] RUN npm ci
2025-Dec-09 21:21:37.014296
#9 ...
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#8 [production 4/7] RUN npm ci --only=production
2025-Dec-09 21:21:37.014296
#8 21.27
2025-Dec-09 21:21:37.014296
#8 21.27 added 583 packages, and audited 584 packages in 21s
2025-Dec-09 21:21:37.014296
#8 21.27
2025-Dec-09 21:21:37.014296
#8 21.27 66 packages are looking for funding
2025-Dec-09 21:21:37.014296
#8 21.27   run `npm fund` for details
2025-Dec-09 21:21:37.014296
#8 21.29
2025-Dec-09 21:21:37.014296
#8 21.29 5 vulnerabilities (3 low, 2 high)
2025-Dec-09 21:21:37.014296
#8 21.29
2025-Dec-09 21:21:37.014296
#8 21.29 To address all issues, run:
2025-Dec-09 21:21:37.014296
#8 21.29   npm audit fix
2025-Dec-09 21:21:37.014296
#8 21.29
2025-Dec-09 21:21:37.014296
#8 21.29 Run `npm audit` for details.
2025-Dec-09 21:21:37.014296
#8 21.29 npm notice
2025-Dec-09 21:21:37.014296
#8 21.29 npm notice New major version of npm available! 10.8.2 -> 11.7.0
2025-Dec-09 21:21:37.014296
#8 21.29 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0
2025-Dec-09 21:21:37.014296
#8 21.29 npm notice To update run: npm install -g npm@11.7.0
2025-Dec-09 21:21:37.014296
#8 21.29 npm notice
2025-Dec-09 21:21:37.014296
#8 DONE 21.6s
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#9 [builder 4/6] RUN npm ci
2025-Dec-09 21:21:37.014296
#9 21.62
2025-Dec-09 21:21:37.014296
#9 21.62 added 583 packages, and audited 584 packages in 21s
2025-Dec-09 21:21:37.014296
#9 21.62
2025-Dec-09 21:21:37.014296
#9 21.62 66 packages are looking for funding
2025-Dec-09 21:21:37.014296
#9 21.62   run `npm fund` for details
2025-Dec-09 21:21:37.014296
#9 21.63 npm notice
2025-Dec-09 21:21:37.014296
#9 21.63 npm notice New major version of npm available! 10.8.2 -> 11.7.0
2025-Dec-09 21:21:37.014296
#9 21.63 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0
2025-Dec-09 21:21:37.014296
#9 21.63 npm notice To update run: npm install -g npm@11.7.0
2025-Dec-09 21:21:37.014296
#9 21.63 npm notice
2025-Dec-09 21:21:37.014296
#9 21.63
2025-Dec-09 21:21:37.014296
#9 21.63 5 vulnerabilities (3 low, 2 high)
2025-Dec-09 21:21:37.014296
#9 21.63
2025-Dec-09 21:21:37.014296
#9 21.63 To address all issues, run:
2025-Dec-09 21:21:37.014296
#9 21.63   npm audit fix
2025-Dec-09 21:21:37.014296
#9 21.63
2025-Dec-09 21:21:37.014296
#9 21.63 Run `npm audit` for details.
2025-Dec-09 21:21:37.014296
#9 DONE 22.0s
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#10 [builder 5/6] COPY . .
2025-Dec-09 21:21:37.014296
#10 DONE 0.2s
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
#11 [builder 6/6] RUN npx vite build && npx esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist
2025-Dec-09 21:21:37.014296
#11 1.439 npm warn exec The following package was not found and will be installed: vite@7.2.7
2025-Dec-09 21:21:37.014296
#11 8.416 failed to load config from /app/vite.config.ts
2025-Dec-09 21:21:37.014296
#11 8.416 error during build:
2025-Dec-09 21:21:37.014296
#11 8.416 Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'vite' imported from /app/node_modules/.vite-temp/vite.config.ts.timestamp-1765315296652-5bdaacd396bfd.mjs
2025-Dec-09 21:21:37.014296
#11 8.416     at packageResolve (node:internal/modules/esm/resolve:873:9)
2025-Dec-09 21:21:37.014296
#11 8.416     at moduleResolve (node:internal/modules/esm/resolve:946:18)
2025-Dec-09 21:21:37.014296
#11 8.416     at defaultResolve (node:internal/modules/esm/resolve:1188:11)
2025-Dec-09 21:21:37.014296
#11 8.416     at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:708:12)
2025-Dec-09 21:21:37.014296
#11 8.416     at #cachedDefaultResolve (node:internal/modules/esm/loader:657:25)
2025-Dec-09 21:21:37.014296
#11 8.416     at ModuleLoader.resolve (node:internal/modules/esm/loader:640:38)
2025-Dec-09 21:21:37.014296
#11 8.416     at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:264:38)
2025-Dec-09 21:21:37.014296
#11 8.416     at ModuleJob._link (node:internal/modules/esm/module_job:168:49)
2025-Dec-09 21:21:37.014296
#11 ERROR: process "/bin/sh -c npx vite build && npx esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist" did not complete successfully: exit code: 1
2025-Dec-09 21:21:37.014296
------
2025-Dec-09 21:21:37.014296
> [builder 6/6] RUN npx vite build && npx esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist:
2025-Dec-09 21:21:37.014296
8.416 error during build:
2025-Dec-09 21:21:37.014296
8.416 Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'vite' imported from /app/node_modules/.vite-temp/vite.config.ts.timestamp-1765315296652-5bdaacd396bfd.mjs
2025-Dec-09 21:21:37.014296
8.416     at packageResolve (node:internal/modules/esm/resolve:873:9)
2025-Dec-09 21:21:37.014296
8.416     at moduleResolve (node:internal/modules/esm/resolve:946:18)
2025-Dec-09 21:21:37.014296
8.416     at defaultResolve (node:internal/modules/esm/resolve:1188:11)
2025-Dec-09 21:21:37.014296
8.416     at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:708:12)
2025-Dec-09 21:21:37.014296
8.416     at #cachedDefaultResolve (node:internal/modules/esm/loader:657:25)
2025-Dec-09 21:21:37.014296
8.416     at ModuleLoader.resolve (node:internal/modules/esm/loader:640:38)
2025-Dec-09 21:21:37.014296
8.416     at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:264:38)
2025-Dec-09 21:21:37.014296
8.416     at ModuleJob._link (node:internal/modules/esm/module_job:168:49)
2025-Dec-09 21:21:37.014296
------
2025-Dec-09 21:21:37.014296
2025-Dec-09 21:21:37.014296
10 warnings found (use docker --debug to expand):
2025-Dec-09 21:21:37.014296
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "SESSION_SECRET") (line 42)
2025-Dec-09 21:21:37.014296
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "WASABI_ACCESS_KEY_ID") (line 43)
2025-Dec-09 21:21:37.014296
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "WASABI_SECRET_ACCESS_KEY") (line 47)
2025-Dec-09 21:21:37.014296
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "APIFY_API_TOKEN") (line 3)
2025-Dec-09 21:21:37.014296
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "WASABI_SECRET_ACCESS_KEY") (line 13)
2025-Dec-09 21:21:37.014296
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "APIFY_API_TOKEN") (line 37)
2025-Dec-09 21:21:37.014296
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "OPENAI_API_KEY") (line 40)
2025-Dec-09 21:21:37.014296
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "OPENAI_API_KEY") (line 6)
2025-Dec-09 21:21:37.014296
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "SESSION_SECRET") (line 8)
2025-Dec-09 21:21:37.014296
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "WASABI_ACCESS_KEY_ID") (line 9)
2025-Dec-09 21:21:37.014296
Dockerfile:33
2025-Dec-09 21:21:37.014296
--------------------
2025-Dec-09 21:21:37.014296
31 |
2025-Dec-09 21:21:37.014296
32 |     # Build the application using npx to ensure binaries are found
2025-Dec-09 21:21:37.014296
33 | >>> RUN npx vite build && npx esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist
2025-Dec-09 21:21:37.014296
34 |
2025-Dec-09 21:21:37.014296
35 |     # Production stage
2025-Dec-09 21:21:37.014296
--------------------
2025-Dec-09 21:21:37.014296
ERROR: failed to build: failed to solve: process "/bin/sh -c npx vite build && npx esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist" did not complete successfully: exit code: 1
2025-Dec-09 21:21:37.014296
exit status 1
2025-Dec-09 21:21:37.023407
Deployment failed. Removing the new version of your application.
2025-Dec-09 21:21:38.623789
Gracefully shutting down build container: tsss8ss4k0kswoskswo0gogc
2025-Dec-09 21:21:39.025587
[CMD]: docker stop --time=30 tsss8ss4k0kswoskswo0gogc
2025-Dec-09 21:21:39.025587
Flag --time has been deprecated, use --timeout instead
2025-Dec-09 21:21:39.431645
tsss8ss4k0kswoskswo0gogc
2025-Dec-09 21:21:39.897901
[CMD]: docker rm -f tsss8ss4k0kswoskswo0gogc
2025-Dec-09 21:21:39.897901
Error response from daemon: No such container: tsss8ss4k0kswoskswo0gogc